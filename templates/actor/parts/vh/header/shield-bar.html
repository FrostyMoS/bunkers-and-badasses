<svg id="shieldBar" viewBox="0 0 400 50" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
    <defs>
        <style>
            #shieldBar {
                --darkBlue: #22A9AC;
                --lightBlue: #27D6DB;
                --darkGrey: #bbb;
                --lightGrey: #ddd;
                --shieldPc: {{#calcPercent value max}}{{/calcPercent}};
            }

            #shieldSingleComb {
                stroke: var(--lightBlue);
                stroke-width: 1.6;
            }

            .shieldBars {
                stroke-width: 2;
                opacity: 0.8;
            }

            #shieldBackground {
                fill: url(#greyLine);
            }

            #shieldForeground {
                fill: url(#honeycomb);
                stroke: var(--lightBlue);
                clip-path: polygon(
                    -1px -1px,
                    calc(362px * var(--shieldPc, 1) - 32px) -1px,
                    calc(362px * var(--shieldPc, 1)) 31px,
                    -1px 31px
                );
            }
        </style>

        <pattern id="honeycomb"
            x="0" y="0" width="30.6" height="18.2"
            patternUnits="userSpaceOnUse" patternTransform="scale(1,1)"
        >
            <desc>honeycomb</desc>
            <animateTransform attributeType="xml"
                attributeName="patternTransform"
                type="translate" from="30.6" to="0" begin="0"
                dur="4s" repeatCount="indefinite"
            />
            <symbol id="shieldSingleComb" >
                <polygon points="5.6,0.2 16,0.2 21.2,9.2 16,18.2 5.6,18.2 0.4,9.2" />
            </symbol>
            <use href="#shieldSingleComb" transform="translate(-5.3,0)" fill="var(--darkBlue)" />
            <use href="#shieldSingleComb" transform="translate(10,9)" fill="var(--darkBlue)" />
            <use href="#shieldSingleComb" transform="translate(10,-9)" fill="var(--darkBlue)" />
            <use href="#shieldSingleComb" transform="translate(25.2,0)" fill="var(--darkBlue)" />
        </pattern>

        <pattern id="greyLine"
            x="0" y="0" width="20" height="20"
            patternUnits="userSpaceOnUse" patternTransform="scale(0.2, 0.2)"
        >
            <desc>greyLine</desc>
            <symbol id="line">
                <polygon points="0,0 20,0 20,10 0,10"/>
            </symbol>
            <use href="#line" fill="var(--lightGrey)"/>
            <use href="#line" transform="translate(0,10)" fill="var(--darkGrey)" />
        </pattern>
    </defs>
    <path id="shieldBackground" class="shieldBars" d="m20,10 l330,0 l30,30 l-360,0 z" />
    <path id="shieldForeground" class="shieldBars" d="m20,10 l330,0 l30,30 l-360,0 z" />
</svg>